//----------------------------------------------------------------------------------------------------------------------
//	CSQLiteLimit.cpp			Â©2023	Stevo Brock	All rights reserved.
//----------------------------------------------------------------------------------------------------------------------

#include "CSQLiteLimit.h"

//----------------------------------------------------------------------------------------------------------------------
// MARK: CSQLiteLimit::Internals

class CSQLiteLimit::Internals {
	public:
		Internals(const CString& string) : mString(string) {}

	CString	mString;
};

//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// MARK: - CSQLiteLimit

// MARK: Lifecycle methods

//----------------------------------------------------------------------------------------------------------------------
CSQLiteLimit::CSQLiteLimit(const OV<UInt32> limit, UInt32 offset)
//----------------------------------------------------------------------------------------------------------------------
{
	// Setup
	mInternals =
			new Internals(
					CString(OSSTR(" LIMIT ")) + CString(limit.hasValue() ? *limit : -1) +
							CString(OSSTR(" OFFSET ")) + CString(offset));
}

//----------------------------------------------------------------------------------------------------------------------
CSQLiteLimit::CSQLiteLimit(const OV<UInt32> limit)
//----------------------------------------------------------------------------------------------------------------------
{
	// Setup
	mInternals = new Internals(CString(OSSTR(" LIMIT ")) + CString(limit.hasValue() ? *limit : -1));
}

//----------------------------------------------------------------------------------------------------------------------
CSQLiteLimit::~CSQLiteLimit()
//----------------------------------------------------------------------------------------------------------------------
{
	Delete(mInternals);
}

// MARK: Instance methods

//----------------------------------------------------------------------------------------------------------------------
const CString& CSQLiteLimit::getString() const
//----------------------------------------------------------------------------------------------------------------------
{
	return mInternals->mString;
}
