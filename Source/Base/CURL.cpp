//----------------------------------------------------------------------------------------------------------------------
//	CURL.cpp			Â©2020 Stevo Brock	All rights reserved.
//----------------------------------------------------------------------------------------------------------------------

#include "CURL.h"

#include "CReferenceCountable.h"

//----------------------------------------------------------------------------------------------------------------------
// MARK: CURL::Internals

class CURL::Internals : public TReferenceCountableAutoDelete<Internals> {
	public:
		Internals(const CString& string) : TReferenceCountableAutoDelete(), mString(string) {}

		CString	mString;
};

//----------------------------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------------------------
// MARK: - CURL

// MARK: Lifecycle methods

//----------------------------------------------------------------------------------------------------------------------
CURL::CURL(const CString& string)
//----------------------------------------------------------------------------------------------------------------------
{
	mInternals = new Internals(string);
}

//----------------------------------------------------------------------------------------------------------------------
CURL::CURL(const CURL& other)
//----------------------------------------------------------------------------------------------------------------------
{
	mInternals = other.mInternals->addReference();
}

//----------------------------------------------------------------------------------------------------------------------
CURL::~CURL()
//----------------------------------------------------------------------------------------------------------------------
{
	mInternals->removeReference();
}

// MARK: Instance methods

//----------------------------------------------------------------------------------------------------------------------
CString CURL::getString() const
//----------------------------------------------------------------------------------------------------------------------
{
	return mInternals->mString;
}
